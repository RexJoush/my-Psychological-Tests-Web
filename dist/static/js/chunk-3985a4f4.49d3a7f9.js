(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3985a4f4"],{b0c4:function(e,t,o){"use strict";var i=o("c49f"),r=o.n(i);r.a},c49f:function(e,t,o){},ca48:function(e,t,o){"use strict";o.r(t);var i=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"app-container"},[o("el-button",{attrs:{type:"primary"},on:{click:function(t){e.dialogFormVisible=!0}}},[e._v("添加线上课程")]),o("el-dialog",{attrs:{title:"添加线上课程",visible:e.dialogFormVisible},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[o("el-form",{ref:"addFormRef",attrs:{model:e.form}},[o("el-form-item",{attrs:{label:"线上课程","label-width":e.formLabelWidth}},[o("el-select",{attrs:{placeholder:"请选择线上课程"},model:{value:e.form.course_id,callback:function(t){e.$set(e.form,"course_id",t)},expression:"form.course_id"}},e._l(e.courseList,(function(e){return o("el-option",{key:e.course_id,attrs:{value:e.course_id,label:e.title}})})),1)],1)],1),o("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")]),o("el-button",{attrs:{type:"primary"},on:{click:e.addHomeCourse}},[e._v("确 定")])],1)],1),o("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],staticStyle:{width:"100%"},attrs:{data:e.list,"element-loading-text":"Loading",border:"","highlight-current-row":""}},[o("el-table-column",{attrs:{align:"center",label:"序号",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.$index+1)+" ")]}}])}),o("el-table-column",{attrs:{label:"课程名称",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.title||"--")+" ")]}}])}),o("el-table-column",{attrs:{label:"操作",align:"center",width:"140"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("el-button",{attrs:{type:"danger"},on:{click:function(o){return e.delHomeCourse(t.row.course_id)}}},[e._v("删除")])]}}])})],1)],1)},r=[],n=(o("96cf"),o("1da1")),s={data:function(){return{list:null,listLoading:!1,dialogFormVisible:!1,courseList:[],form:{course_id:""},formLabelWidth:"120px"}},created:function(){this.getHomeCourse(),this.getCourseList()},methods:{getCourseList:function(){var e=this;this.$api.getCourseList().then((function(t){var o=t.data.data;e.courseList=o,console.log("conList",e.courseList)}))},getHomeCourse:function(){var e=this;this.listLoading=!1,this.$api.getHomeCourse().then((function(t){var o=t.data.data;e.list=o,e.listLoading=!1})).catch((function(e){console.log("err",e)}))},delHomeCourse:function(e){var t=this;this.$confirm("确认删除吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(o){t.$api.delHomeCourse({course_id:e}).then((function(e){t.$message({type:"success",message:"删除成功!"}).catch((function(e){t.$message.error(e)})),t.getHomeCourse()}))})).catch((function(){t.$message({type:"info",message:"已取消删除"})}))},addHomeCourse:function(){var e=this;this.$refs.addFormRef.validate(function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(o){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(o){t.next=2;break}return t.abrupt("return",null);case 2:return t.next=4,e.$api.addHomeCourse({course_id:e.form.course_id}).then((function(t){e.$message.success("添加成功"),e.getHomeCourse(),e.dialogFormVisible=!1})).catch((function(t){e.$message.error(t),e.dialogFormVisible=!1}));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),this.$refs.addFormRef.resetFields()}}},a=s,l=(o("b0c4"),o("2877")),c=Object(l["a"])(a,i,r,!1,null,"1403b28d",null);t["default"]=c.exports}}]);