(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1810d88d"],{c0c3:function(e,t,a){},ce2e:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.dialogFormVisible=!0}}},[e._v("添加测试类别")]),a("el-dialog",{attrs:{title:"添加测试类别",visible:e.dialogFormVisible,"close-on-click-modal":!1},on:{"update:visible":function(t){e.dialogFormVisible=t},close:e.addDialogClose}},[a("el-form",{ref:"addFormRef",attrs:{model:e.form,rules:e.rules}},[a("el-form-item",{attrs:{label:"测试类别名称","label-width":e.formLabelWidth,prop:"category_name"}},[a("el-input",{model:{value:e.form.category_name,callback:function(t){e.$set(e.form,"category_name",t)},expression:"form.category_name"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.addCategory()}}},[e._v("确 定")])],1)],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],staticStyle:{width:"100%"},attrs:{data:e.list,"element-loading-text":"Loading",border:"","highlight-current-row":""}},[a("el-table-column",{attrs:{align:"center",label:"序号",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.$index+1)+" ")]}}])}),a("el-table-column",{attrs:{label:"测试类别",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.category_name||"--")+" ")]}}])}),a("el-table-column",{attrs:{label:"操作",align:"center",width:"140"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"danger"},on:{click:function(a){return e.delCategory(t.row.category_id)}}},[e._v("删除")])]}}])})],1)],1)},n=[],o=(a("d3b7"),a("25f0"),a("96cf"),a("1da1")),i={data:function(){return{list:[],listLoading:!1,dialogFormVisible:!1,categoryList:[],form:{category_name:""},formLabelWidth:"120px",rules:{consultant_name:[{required:!0,message:"请输入测试类别",trigger:"blur"}]}}},created:function(){this.getCategoryList()},methods:{getCategoryList:function(){var e=this;this.$api.getCategoryList().then((function(t){var a=t.data.data;e.list=a})).catch((function(t){e.$message.error(t)}))},delCategory:function(e){var t=this;this.$confirm("确认删除吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(a){t.$api.delCategory({category_id:e}).then((function(e){0===e.data.result?t.$message({type:"error",message:e.data.err}):t.$message({type:"success",message:"删除成功!"})})).catch((function(e){t.$message.error(e.data.err)})),t.getCategoryList()})).catch((function(){t.$message({type:"info",message:"已取消删除"})}))},addCategory:function(){var e=this;this.$refs.addFormRef.validate(function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(a){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(a){t.next=2;break}return t.abrupt("return",null);case 2:return t.next=4,e.$api.addCategory({category_name:e.form.category_name.toString()}).then((function(t){e.$message.success("添加成功"),e.getCategoryList(),e.dialogFormVisible=!1})).catch((function(t){e.$message.error(t),e.dialogFormVisible=!1}));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),this.$refs.addFormRef.resetFields()},addDialogClose:function(){this.$refs.addFormRef.resetFields()}}},s=i,l=(a("cfde"),a("2877")),c=Object(l["a"])(s,r,n,!1,null,"cf15bcea",null);t["default"]=c.exports},cfde:function(e,t,a){"use strict";var r=a("c0c3"),n=a.n(r);n.a}}]);